---
import '@fontsource-variable/atkinson-hyperlegible-next';
import "../../styles/global.css";
import Base from '../../layouts/Base.astro';
import QuizView from "../../components/QuizView.astro";
import { languages } from '../../i18n/ui';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import QuizViewFallback from '../../components/QuizViewFallback.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export async function getStaticPaths() {
  const paths = Object.entries(languages).map(([lang, label]) => {
    return { params: { lang } };
  });

  return paths;
}
---

<Base>
  <h1>ğŸ§  {t("title")}</h1>
  <QuizView>
    <QuizViewFallback slot='fallback'/>
  </QuizView>
</Base>